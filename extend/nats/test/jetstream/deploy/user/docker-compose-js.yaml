networks:
  nats-js-user-network:

services:
  nats-js-service:
    container_name: nats-js-service
    image: 192.168.1.96:5000/middle/nats:2.10.16
    entrypoint: /nats-server
    command: "--config /config/nats.conf"
    ports:
      - 4222:4222
      - 8222:8222
    volumes:
      - ./config:/config
      - ./data/:/data/nats-server/jetstream
    networks:
      - nats-js-user-network

  nats-nui:
    container_name: nats-nui
    image: ghcr.io/nats-nui/nui
    volumes:
      - ./datagole:/db
      - ./credentials:/nats-creds:ro
    expose:
      - 31311
    ports:
      - "31311:31311"
    networks:
      - nats-js-user-network
